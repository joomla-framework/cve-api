# The CVE Package [![Build Status](https://ci.joomla.org/api/badges/joomla-framework/cve-api/status.svg?ref=refs/heads/3.x-dev)](https://ci.joomla.org/joomla-framework/cve-api)

[![Latest Stable Version](https://poser.pugx.org/joomla/cve/v/stable)](https://packagist.org/packages/joomla/cve)
[![Total Downloads](https://poser.pugx.org/joomla/cve/downloads)](https://packagist.org/packages/joomla/cve)
[![Latest Unstable Version](https://poser.pugx.org/joomla/cve/v/unstable)](https://packagist.org/packages/joomla/cve)
[![License](https://poser.pugx.org/joomla/cve/license)](https://packagist.org/packages/joomla/cve)

## Requirements

* PHP 8.1 or later

## Using the CVE Package

tbd

### Instantiating CVE

Instantiating CVE Service is easy:

```php
use Joomla\Cve\CveService;

$cve = new CveService;
```

This creates a basic Github object that can be used to access publicly available resources
on [mitre.org](https://cveawg.mitre.org).

In most cases it is necessary to specify additional options. This can be done by injecting in a Registry object with
your preferred options.
Support is available for optionally providing a custom CVE account username and password,
as well as a custom URL for the CVE API server (as would be the case for testing purposes).

```php
use Joomla\Cve\CveService;
use Joomla\Registry\Registry;

$options = new Registry;
$options->set('api.org', 'cve_org');
$options->set('api.username', 'cve_username');
$options->set('api.key', 'cve_key');
$options->set('api.url', 'http://localhost:3000');

$cve = new CveService($options);
```

#### Available Options

Option key | Description
----|----
`api.key` | The key associated with the user to access the API.
`api.org` | The organisation represented by the user.
`api.url` | The URL for the API calls, defaults to 'https://cveawg.mitre.org/api'. Set it to 'http://localhost:3000' for integration tests against the cveawg Docker container.
`api.username` | The username for the CVE account.
`userAgent` | The user agent to use for requests. Defaults to 'Joomla-CVE/2.0'

## Installation via Composer

Add `"joomla/cve": "~3.0"` to the require block in your composer.json and then run `composer install`.

```json
{
	"require": {
		"joomla/cve": "~3.0"
	}
}
```

Alternatively, you can simply run the following from the command line:

```sh
composer require joomla/cve "~3.0"
```

If you want to include the test sources, use

```sh
composer require --prefer-source joomla/cve "~3.0"
```
